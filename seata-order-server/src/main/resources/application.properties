#Spring-Boot多环境配置
# dev ：【本地开发】环境
# test：【线上测试】环境
# prod：【生产发布】环境

#本地【开发】-- mysql数据源，druid数据库连接池
#spring.profiles.active = dev

#线上【测试】-- postgresql数据源，hikari数据库连接池
#spring.profiles.active = test

#生产【正式】-- mysql数据源，hikari数据库连接池
spring.profiles.active = prod

# 配置nacos
spring.cloud.nacos.discovery.server-addr=127.0.0.1:8848

#配置seata
seata.enabled=true
seata.application-id=order-seata-example
#事务群组（必须和seata中的保持一致）
seata.tx-service-group=seata_example_tx_group
#是否上报一阶段成功，true用于保持分支事务生命周期完整，默认为false
seata.client.rm.report-success-enable=true
#自动刷新缓存中的表结构（默认false）
seata.client.rm.table-meta-check-enable=false
#一阶段结果上报TC重试次数（默认5）
seata.client.rm.report-retry-count=3
#异步提交缓存队列的长度（默认10000）
seata.client.rm.async-commit-buffer-limit=1000
#校验或占用全局锁重试间隔（默认10ms）
seata.client.rm.lock.retry-interval=10
#校验或占用全局锁重试次数（默认30）
seata.client.rm.lock.retry-times=30
#分支事务与其他全局回滚事务冲突时锁策略（优先释放本地锁让回滚成功）
seata.client.rm.lock.retry-policy-branch-rollback-on-conflict=true
#一阶段全局提交结果上报TC重试次数（默认1次，建议大于1）
seata.client.tm.commit-retry-count=3
#一阶段全局回滚结果上报TC重试次数（默认1次，建议大于1）
seata.client.tm.rollback-retry-count=3
#二阶段回滚镜像校验（默认true开启）
seata.client.undo.data-validation=true
#undo序列化方式（默认jackson）
seata.client.undo.log-serialization=jackson
#自定义undo表名（默认undo_log），用来存储回滚所需的数据的，用来反向补偿执行sql
seata.client.undo.log-table=undo_log
#日志异常输出概率（默认100）
seata.client.log.exception-rate=100
#开启数据源自动代理（默认true）
seata.enable-auto-data-source-proxy=true
#事务组映射（必须与seata-server中的保持一致）
seata.service.vgroup-mapping.seata_example_tx_group=default
#降级开关
seata.service.enable-degrade=false
#禁用全局事务（默认false）
seata.service.disable-global-transaction=false
#使用文件配置中心时指定seata server地址
seata.service.default.grouplist=127.0.0.1:8091

seata.transport.shutdown.wait=3
seata.transport.thread-factory.boss-thread-prefix=NettyBoss
seata.transport.thread-factory.worker-thread-prefix=NettyServerNIOWorker
seata.transport.thread-factory.server-executor-thread-prefix=NettyServerBizHandler
seata.transport.thread-factory.share-boss-worker=false
seata.transport.thread-factory.client-selector-thread-prefix=NettyClientSelector
seata.transport.thread-factory.client-selector-thread-size=1
seata.transport.thread-factory.client-worker-thread-prefix=NettyClientWorkerThread

seata.transport.type=TCP
seata.transport.server=NIO
#开启心跳检测
seata.transport.heartbeat=true
seata.transport.serialization=seata
seata.transport.compressor=none
#客户端事务消息请求是否批量合并发送（默认true）
seata.transport.enable-client-batch-send-request=true
#seata服务注册中心，使用nacos
seata.registry.type=nacos
seata.registry.nacos.server-addr=127.0.0.1:8848
seata.registry.nacos.cluster=default
#seata服务配置中心，使用nacos
seata.config.type=nacos
seata.config.nacos.server-addr=127.0.0.1:8848
seata.config.nacos.group=SEATA_GROUP